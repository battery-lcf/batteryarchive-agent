/*
Name: Cycle Test Cell List
Data source: 1
Created By: admin
Last Update At: 2022-12-30T18:29:32.480Z
Visualizations: [{'id': 69, 'type': 'SELECTION_TABLE', 'name': 'Selection Table', 'description': '', 'options': {'itemsPerPage': 25, 'paginationSize': 'default', 'buttonArr': [{'name': 'Cycle Data', 'linkUrlTemplate': 'public/dashboards/61PzyYn9u56njtPDOh37VVBFasGusUlxc7WZ1FSj?org_slug=default&p_cell_id={{ @ }}', 'linkOpenInNewTab': True, 'columnName': 'cell_id', 'props': {'href': 'public/dashboards/61PzyYn9u56njtPDOh37VVBFasGusUlxc7WZ1FSj?org_slug=default&p_cell_id=[]', 'text': 'Cycle Data', 'target': '_blank', 'title': 'Cycle Data'}}], 'columns': [{'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': 'public/dashboards/61PzyYn9u56njtPDOh37VVBFasGusUlxc7WZ1FSj?org_slug=default&p_cell_id={{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'cell_id', 'type': 'string', 'displayAs': 'link', 'visible': True, 'order': 100000, 'title': 'Cell ID', 'allowSearch': False, 'alignContent': 'left', 'allowHTML': True, 'highlightLinks': False}, {'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'anode', 'type': 'string', 'displayAs': 'string', 'visible': True, 'order': 100001, 'title': 'Anode', 'allowSearch': False, 'alignContent': 'left', 'allowHTML': True, 'highlightLinks': False}, {'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'cathode', 'type': 'string', 'displayAs': 'string', 'visible': True, 'order': 100002, 'title': 'Cathode', 'allowSearch': False, 'alignContent': 'left', 'allowHTML': True, 'highlightLinks': False}, {'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'source', 'type': 'string', 'displayAs': 'string', 'visible': True, 'order': 100003, 'title': 'Source', 'allowSearch': False, 'alignContent': 'left', 'allowHTML': True, 'highlightLinks': False}, {'numberFormat': '0,0.00', 'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'ah', 'type': 'float', 'displayAs': 'number', 'visible': True, 'order': 100004, 'title': 'Ah', 'allowSearch': False, 'alignContent': 'right', 'allowHTML': True, 'highlightLinks': False}, {'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'form_factor', 'type': 'string', 'displayAs': 'string', 'visible': True, 'order': 100005, 'title': 'Form Factor', 'allowSearch': False, 'alignContent': 'left', 'allowHTML': True, 'highlightLinks': False}, {'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'tester', 'type': 'string', 'displayAs': 'string', 'visible': False, 'order': 100006, 'title': 'tester', 'allowSearch': False, 'alignContent': 'left', 'allowHTML': True, 'highlightLinks': False}, {'numberFormat': '0,0.00', 'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'temperature', 'type': 'float', 'displayAs': 'number', 'visible': True, 'order': 100007, 'title': 'Temperature (C)', 'allowSearch': False, 'alignContent': 'right', 'allowHTML': True, 'highlightLinks': False}, {'numberFormat': '0,0.00', 'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'soc_max', 'type': 'float', 'displayAs': 'number', 'visible': True, 'order': 100008, 'title': 'Max SOC', 'allowSearch': False, 'alignContent': 'right', 'allowHTML': True, 'highlightLinks': False}, {'numberFormat': '0,0.00', 'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'soc_min', 'type': 'float', 'displayAs': 'number', 'visible': True, 'order': 100009, 'title': 'Min SOC', 'allowSearch': False, 'alignContent': 'right', 'allowHTML': True, 'highlightLinks': False}, {'numberFormat': '0,0.00', 'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'crate_c', 'type': 'float', 'displayAs': 'number', 'visible': True, 'order': 100010, 'title': 'Charge Rate (C)', 'allowSearch': False, 'alignContent': 'right', 'allowHTML': True, 'highlightLinks': False}, {'numberFormat': '0,0.00', 'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'crate_d', 'type': 'float', 'displayAs': 'number', 'visible': True, 'order': 100011, 'title': 'Discharge Rate (C)', 'allowSearch': False, 'alignContent': 'right', 'allowHTML': True, 'highlightLinks': False}]}, 'updated_at': '2022-12-30T17:38:38.170Z', 'created_at': '2022-06-29T22:41:20.804Z'}, {'id': 68, 'type': 'TABLE', 'name': 'Table', 'description': '', 'options': {'itemsPerPage': 25, 'columns': [{'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': 'https://database.batteryarchive.org/public/dashboards/61PzyYn9u56njtPDOh37VVBFasGusUlxc7WZ1FSj?org_slug=default&p_cell_id=%5B"{{@}}"%5D', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'cell_id', 'type': 'string', 'displayAs': 'link', 'visible': True, 'order': 100000, 'title': 'Cell ID', 'allowSearch': False, 'alignContent': 'left', 'allowHTML': True, 'highlightLinks': False}, {'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'anode', 'type': 'string', 'displayAs': 'string', 'visible': True, 'order': 100001, 'title': 'Anode', 'allowSearch': False, 'alignContent': 'left', 'allowHTML': True, 'highlightLinks': False}, {'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'cathode', 'type': 'string', 'displayAs': 'string', 'visible': True, 'order': 100002, 'title': 'Cathode', 'allowSearch': False, 'alignContent': 'left', 'allowHTML': True, 'highlightLinks': False}, {'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'source', 'type': 'string', 'displayAs': 'string', 'visible': True, 'order': 100003, 'title': 'Source', 'allowSearch': False, 'alignContent': 'left', 'allowHTML': True, 'highlightLinks': False}, {'numberFormat': '0,0.00', 'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'ah', 'type': 'float', 'displayAs': 'number', 'visible': True, 'order': 100004, 'title': 'Ah', 'allowSearch': False, 'alignContent': 'right', 'allowHTML': True, 'highlightLinks': False}, {'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'form_factor', 'type': 'string', 'displayAs': 'string', 'visible': True, 'order': 100005, 'title': 'Form Factor', 'allowSearch': False, 'alignContent': 'left', 'allowHTML': True, 'highlightLinks': False}, {'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'tester', 'type': 'string', 'displayAs': 'string', 'visible': False, 'order': 100006, 'title': 'Tester', 'allowSearch': False, 'alignContent': 'left', 'allowHTML': True, 'highlightLinks': False}, {'numberFormat': '0,0.00', 'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'temperature', 'type': 'float', 'displayAs': 'number', 'visible': True, 'order': 100007, 'title': 'Temperature (C)', 'allowSearch': False, 'alignContent': 'right', 'allowHTML': True, 'highlightLinks': False}, {'numberFormat': '0,0.00', 'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'soc_max', 'type': 'float', 'displayAs': 'number', 'visible': True, 'order': 100008, 'title': 'Max SOC', 'allowSearch': False, 'alignContent': 'right', 'allowHTML': True, 'highlightLinks': False}, {'numberFormat': '0,0.00', 'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'soc_min', 'type': 'float', 'displayAs': 'number', 'visible': True, 'order': 100009, 'title': 'Min SOC', 'allowSearch': False, 'alignContent': 'right', 'allowHTML': True, 'highlightLinks': False}, {'numberFormat': '0,0.00', 'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'crate_c', 'type': 'float', 'displayAs': 'number', 'visible': True, 'order': 100010, 'title': 'Charge Rate (C)', 'allowSearch': False, 'alignContent': 'right', 'allowHTML': True, 'highlightLinks': False}, {'numberFormat': '0,0.00', 'booleanValues': ['false', 'true'], 'imageUrlTemplate': '{{ @ }}', 'imageTitleTemplate': '{{ @ }}', 'imageWidth': '', 'imageHeight': '', 'linkUrlTemplate': '{{ @ }}', 'linkTextTemplate': '{{ @ }}', 'linkTitleTemplate': '{{ @ }}', 'linkOpenInNewTab': True, 'name': 'crate_d', 'type': 'float', 'displayAs': 'number', 'visible': True, 'order': 100011, 'title': 'Discharge Rate (C)', 'allowSearch': False, 'alignContent': 'right', 'allowHTML': True, 'highlightLinks': False}]}, 'updated_at': '2022-12-30T17:22:41.797Z', 'created_at': '2022-06-04T00:55:16.826Z'}]
*/


select 
	cell_metadata.cell_id,
	anode,
	cathode,
	source,
	ah,
	form_factor,
	tester,
	temperature, 
	soc_max,    
	soc_min,      
	crate_c, 
	crate_d
from  
	cell_metadata inner join cycle_metadata on cell_metadata.cell_id = cycle_metadata.cell_id 
where
    cathode IN ({{cathode}}) and
    anode IN ({{anode}}) and
    ah IN ({{ah}}) and
    temperature IN ({{temperature}}) and
    crate_c IN ({{crate_c}}) and
    crate_d IN ({{crate_d}}) and
    soc_max IN ({{soc_max}}) and 
    soc_min IN ({{soc_min}}) and
    source IN ({{source}}) and  
    form_factor IN ({{form_factor}}) and
    status = 'completed'
order by  
	cycle_metadata.cell_id                  